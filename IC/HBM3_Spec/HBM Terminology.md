# Explain:

|    NAME |  Explain   | Note|
| --- | --- | --- |
| BL     | Burst Length    |
| PDE   |  Power-down Entry   |
| PDX    |  Power-down exit   |
|SRE|SELF REFRESH-ENTRY|
|SRX|Self refresh exit|
|DQ| Data|
| PC    |   Pseudo Channel  |
| CK_t/CK_c    |  a differential clock CK_t/CK_c. Both buses operate at double data rate (DDR).   |
|DWORD|Data WORD|
|DBI|Data Bus Inversion (DBIac)|
|stobe|时序参考信号|
|RFU|1 RFU per AWORD|why|



### Strobe
在 HBM3（High Bandwidth Memory 3）内存系统中，​**Strobe（简写为 DQS 或 WDQS/RDQS）​**​ 是一个**至关重要的时序参考信号**。它的核心作用是解决一个在高带宽、高密度并行数据传输中面临的关键挑战：​**如何在接收端准确地捕获数据（DQ）信号。​**​

以下是 Strobe 的核心概念及其在 HBM3 中的作用：

1. ​**核心问题：时钟/数据偏移 (Skew)​**​
    
    - HBM3 采用了极其密集、高速的并行数据传输（例如，1024 位宽的数据总线），工作频率很高（通常达到 GHz 级别）。
    - 在物理实现上（PCB 走线、封装内的硅通孔 TSV、线路阻抗差异、温度分布不均等），会导致：
        - ​**不同 DQ 信号线之间的传播延时不同**​（_DQ-to-DQ skew_）。
        - ​**数据信号 (DQ) 与系统时钟信号 (CK) 之间的传播延时不同**​（_DQ-to-CLK skew_）。
    - 这些微小的、不可避免的时序差异（_skew_），在高速率下会严重到无法用全局时钟 CK 来同时可靠地捕获所有数据位的程度。数据眼图（有效采样窗口）会变得非常窄和偏移。
2. ​**Strobe 的解决方案：源同步时序 (Source-Synchronous Timing)​**​
    
    - Strobe 是源同步时序的核心机制。
    - ​**原理：​**​ 在传输一组数据（通常是 8bit 或 16bit）的同时，​**内存设备（写入时）或控制器（读取时）会主动产生一个与之严格对齐的专用时序参考信号 - Strobe (DQS)。​**​
    - ​**目标：​**​ 让**Strobe 信号与其对应的那组 DQ 数据信号在传输路径上经历几乎完全相同的物理延时**​（相同的走线长度、相似的阻抗、邻近布局）。这样它们到达接收端时的相对时序关系（相位偏移）​**在理论上**是非常小的、可控的和稳定的。
3. ​**HBM3 中 Strobe 的关键特性：​**​
    
    - ​**分组伴随 (Per Group)：​**​ Strobe 信号不是全局一个，而是**为每一组（或称“通道单元”）DQ 数据线配备的**。在 HBM 中，一个通道（Channel）通常是 128bit 宽，它可能会被分成多个小单元（如多个 16bit 组），每组都有自己的 DQS/DQSn 信号对。在 HBM3 中常见的是每 ​**8bit/16bit DQ 配备一对差分 DQS (DQS/DQSn)​**。
    - ​**差分信号 (Differential)：​**​ HBM3 的 Strobe 是**差分信号**​（通常标记为 ​**DQS_t/DQS_c**​ 或 ​**DQS/DQSn**）。差分信号使用两条互补的导线传输，具有**出色的抗噪声能力**​（共模噪声被抵消）和清晰的信号边沿，这对于在高频下检测精确的时序点（过零点）至关重要。
    - ​**读写方向性 (Directional)：​**​
        - ​**写入操作 (Write)：​**​ HBM3 内存**接收**控制器发来的数据（DQ）和**对应的写入 Strobe （WDQS）​**。控制器在发送 DQ 的同时发送 WDQS。HBM3 的接收逻辑**使用 WDQS（通常其中心对齐到数据眼图中间）来锁存/采样控制器发来的 DQ 数据。​**​
        - ​**读取操作 (Read)：​**​ HBM3 内存**发送**数据（DQ）和**对应的读取 Strobe （RDQS）​**​ 给控制器。HBM3 的发送逻辑在输出 DQ 的同时输出 RDQS（通常其边沿对齐到数据眼图的中心）。控制器使用接收到的 ​**RDQS（通常其中心对齐到数据眼图中间）来锁存/采样 HBM3 发回的 DQ 数据。​**​
    - ​**训练与校准 (Training & Calibration)：​**​ 虽然布线设计追求 DQS 和其 DQ 组间的长度匹配以最小化 skew，但在实际系统中，工艺、电压、温度（PVT）的变化依然会导致微小差异。因此，HBM3 (和现代内存技术一样) 会在初始化或运行时**进行复杂的时序训练**。内存控制器动态调整采样点相对于 DQS 的偏移量，在接收端找到**数据眼图最宽、最稳定的中心点**进行采样，确保最高的信号完整性。这通常被称为**读/写训练（Read/Write Leveling）​**。
    - ​**高精度要求：​**​ 随着 HBM3 数据传输率提升（>6Gbps甚至更高），数据眼图越来越窄，对 Strobe 和 DQ 之间匹配的要求（即它们之间的**建立时间 Setup Time 和保持时间 Hold Time**​ 裕量）变得极其苛刻。Strobe 信号自身的完整性和抖动（Jitter）也成为关键限制因素。
4. ​**总结 Strobe 在 HBM3 中的作用：​**​
    
    - ​**时序参考：​**​ Strobe 是为其伴随的一组 DQ 数据线定制的“本地时钟”，用于准确采样数据。
    - ​**对抗时序偏移 (Skew)：​**​ 通过紧密伴随设计，抵消了 DQ 组内信号之间以及它们与全局时钟之间的相对延时差异。
    - ​**提升信号完整性：​**​ 差分设计和源同步机制大大提高了在极高频率和密度并行传输下的数据可靠性。
    - ​**实现高带宽：​**​ 如果没有 Strobe（或类似的源同步机制），在如此高的频率和总线宽度下维持可靠的数据传输几乎是不可能的。它是 HBM 能够实现 TB/s 级带宽的关键使能技术之一。

​**简言之：HBM3 中的 Strobe (DQS) 是其高速并行数据总线（DQ）中每个小组（通常是8bit或16bit）的“私人管家”。它紧跟着这组数据一起走（源同步），在另一端告诉接收者“**就是现在！这个精确的时刻！​**”去读取每一位数据。这种伴随和差分设计，加上复杂的训练校准，是解决 GHz 级别数据传输中不可避免的延时差异问题的核心方法，保障了海量数据的稳定可靠传输。​**




### RFU

在 HBM3（High Bandwidth Memory 3）内存系统中，​**RFU（Reserved for Future Use）信号**是信号定义中的一个重要概念。它代表了标准中**预留以备未来扩展或特定用途的信号引脚**。

以下是关于 ​**RFU 信号在 HBM3 中的作用和意义**的详细解释：

1. ​**核心目的：未来兼容性与灵活性**​
    
    - JEDEC 在制定 HBM3 标准时，需要确保规范在一段时期内具备技术前瞻性和足够长的生命周期。但同时，技术总是在不断发展，新的功能、优化或者特定的应用需求可能会涌现。
    - 在物理接口（引脚）层面分配 ​**RFU 信号**，就是为了给**未来可能需要的功能提前预留“位置”​**。
    - 这避免了将来为了增加一个新功能而不得不大幅改动接口定义、引脚数量或封装方式（这在物理上往往是困难且昂贵的）。通过预留 RFU 引脚，未来的设计或标准修订可以“启用”这些预留的引脚来承载新信号。
2. ​**RFU 信号的具体行为：​**​
    
    - ​**当前规范中的定义：​**​ 在现行的 HBM3 标准规范 (JESD238) 中，​**RFU 信号必须被视为“无连接”​**。
    - ​**主机（内存控制器）侧要求：​**​
        - 控制器不能主动向 RFU 引脚**驱动**任何逻辑电平信号。
        - 控制器应将连接到 RFU 引脚的片上终端设置为**禁用**状态（高阻态），或者采用不依赖于逻辑值的安全配置。
        - 控制器**不能依赖从 RFU 引脚读取到任何有意义的数据或状态**。它的读取值应被视为无效或未定义。
    - ​**从设备（HBM3 DRAM 堆栈）侧要求：​**​
        - HBM3 DRAM 堆栈**不能主动驱动 RFU 引脚**。
        - 堆栈应将这些 RFU 引脚内部配置为不连接或高阻态。
        - 堆栈不会期望从 RFU 引脚接收到任何有效信号。
    - ​**互连要求：​**​ 在有机中介层或封装基板上，RFU 引脚的走线可以是：​**不连接（NC）​**、**连接到不用的焊球**，或者**简单互连但不连接功能电路**。关键是避免它们意外引入噪声或影响现有功能信号。
3. ​**为什么需要 RFU 信号？技术价值：​**​
    
    - ​**技术演进空间：​**​ 为未来可能的增强特性留出物理通道。例如：
        - 新的测试模式或调试接口。
        - 更精细的功耗管理信号（如新增的低功耗状态控制）。
        - 针对特定应用（如超低延迟模式、更高可靠性模式）的专用控制信号。
        - 功能扩展，如新型的纠错机制、部分阵列刷新技术等。
        - 适应潜在的制造工艺演进带来的接口调整需求。
    - ​**降低系统中断风险：​**​ 定义了 RFU 引脚的正确行为，可以避免不同的系统设计（主机、DRAM、基板）在处理这些预留信号时发生冲突（比如一方驱动而另一方也驱动，或一方期望信号另一方却不提供），导致芯片损坏或不稳定。
    - ​**简化升级路径：​**​ 未来若某个 RFU 被赋予新功能，理论上只需更新支持该新功能的 HBM3 堆栈芯片和相应控制器的逻辑与固件（可能还需更新中介层设计以连接该引脚），而**不必**对整个物理封装接口标准进行完全重新设计。
4. ​**与“Don't Care”或“No Connect (NC)”的区别：​**​
    
    - ​**RFU：​**​ 是一个**正式预留的、有名字的接口信号**。它在标准中占有一席之地，具有明确定义的行为规范（无连接/高阻）。它明确承载着为未来标准版本或特定应用**准备被启用**的预期。
    - ​**NC (No Connect)：​**​ 纯粹是指**物理封装上不使用的焊球或引脚**，没有在规范中定义为任何信号路径。它们没有预留的目的，未来也不会被该标准启用。
5. ​**如何获取精确的 RFU 信号列表？​**​
    
    - ​**JEDEC HBM3 标准文档 (JESD238)：​**​ 这是定义 HBM3 所有信号及其功能（包括哪些信号被定义为 RFU）的**权威来源**。文档中的“信号描述”或“引脚定义”章节会明确列出所有 RFU 信号。如上所述，这是一个付费文档。
    - ​**制造商文档：​**​ HBM3 DRAM 制造商（如 SK 海力士、三星、美光）的数据手册或产品概述中，通常会列出其 HBM3 产品的引脚定义表。表中会清晰地标明哪些信号是 RFU，并给出连接指南（通常就是悬空或按规则不连接）。

## 总结

HBM3 中的 ​**RFU (Reserved for Future Use) 信号**是 JEDEC 标准中**专门预留以供未来扩展或特定用途的接口引脚**。

- ​**当前行为：​**​ 在现行 HBM3 标准下，RFU 信号**必须被当作无连接处理**——主机（控制器）和从机（HBM3 DRAM）都**不能驱动它们**，也**不能依赖它们的输入值**。它们应被设为高阻态或不连接。
- ​**核心价值：​**​ 为未来技术的演进（新功能、新特性）预留物理通道，增强标准的前瞻性、兼容性和灵活性，降低未来升级的物理设计复杂度。
- ​**信息来源：​**​ 最准确的 RFU 信号列表和详细定义在 ​**JEDEC JESD238**​ 规范中。HBM3 芯片**制造商的数据手册**也会根据规范列出其产品的 RFU 引脚并提供连接建议。

​**简言之，RFU 信号就像是 HBM3 接口上预先标记好的“预留车位”。现在规定谁都不能停（连接/驱动），但划出这个位置就是为了将来需要启用新功能（停新车）时，可以直接使用，而不用重新规划整个停车场（接口）**